<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home Page</title>
    <!-- <link rel="stylesheet" href="./navbar.css" />
    <link rel="stylesheet" href="./index.css" /> -->
    <!-- <link rel="stylesheet" href="../styles/footer.css" /> -->
    <!-- <link rel="preconnect" href="https://fonts.googleapis.com" /> -->
    <!-- <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /> -->
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />
  </head>
  <link rel="stylesheet" href="./home/home.css">
  <link rel="stylesheet" href="./product/product.css">
  

  <body>
    
    <nav>
      <div id="main">
        <div><img src="https://alcazar.vercel.app/icon.png" alt="img" /></div>
        <div>
          <a href="#">Download App</a>
          <a href="#">Partner With Us</a>
          <a href="#">Installment</a>
          <a href="#">Saved </a>
          <a href="#">My Booking </a>
        </div>
        <div>
          <a href="#">SignUp</a>
          <a href="#">Login</a>
        </div>
      </div>
    </nav>

    <div class="headers">
      <img
        src="https://alcazar.vercel.app/static/media/hiking-camp-night-campfire-man-alone-1576819-pxhere.com.05af97edc61712b0a2a4.jpg"
        alt="img"
      />

      <div class="text">
        <div class="sub">
          <h1>Travel around the world</h1>
        </div>

        <div class="sub-heading">
          <h4>
            Trusted by 80 million Travelers, Aalcazar is the world's most
            copetetive travel, flight
          </h4>
          <h4>
            and accommodation provider, very easy to access on your smarttree
            and desktop
          </h4>
        </div>
      </div>
    </div>
    
        <h1>Guide for your next vacation</h1>
    <p>Check out this week's selection of popular that might catch your eye. and don't.</p>
    <br>
    <br>
    <!-- <div id="btn"><a id="btn1" href="">All</a><a id="btn2" href="">Trending</a><a id="btn3" href="">Popular</a><a id="btn4" href="">Features</a><a id="btn5" href="">Recommend</a><a id="btn6" href="">Tour packages</a></div> -->
    <div id="filter">
        <button class="btn_filter" id="btn1">All</button>
        <button class="btn_filter" id="btn2">Trending</button>
        <button class="btn_filter" id="btn3">Popular</button>
        <button class="btn_filter" id="btn4">Features</button>
        <button class="btn_filter" id="btn5">Recommend</button>
        <button class="btn_filter" id="btn6">Tour packages</button>
    </div>
    <br>
    <br>
    <div id="content">
    </div>
    
  <!-- <div id="pages" class="pagination">
        <button id="prevPage">Previous</button>
        <button id="nextPage">Next</button>
      </div> -->
      <div class="container">
        <!-- <h1>Hotels</h1> -->
        <!-- <ul class="hotel-list"></ul> -->
        <div id="pages" class="pagination"></div>
      </div>
    <br>
    <br>

    <div class="aboutSection">
      <div class="aboutbox">
        <div class="aboutfirst">
          <img src="https://alcazar.vercel.app/photo1.png" ; alt="" />
        </div>
        <div class="aboutSecond">
          <h1>Safely Saved Lists</h1>
          <p>
            Neatly arranged for your ease of access Go to Saved at the top
            navigation bar, where we save your saved items. We group them based
            on category. Just a few clicks away from starting your journey! When
            you want to make a purchase from Saved.
          </p>
          <button>Read More</button>
        </div>
      </div>

      <div class="aboutbox">
        <div class="aboutSecond">
          <h1>Flight Price Alert</h1>
          <p>
            Instant Notification You that blocks y ou from selecting or
            right-clicking content? While it migh t seem impossible, there are
            several ways to copy text from any protected website, even if you
            can't right-click the will text from a website.
          </p>
          <button>Find It Here</button>
        </div>
        <div class="aboutfirst">
          <img src="https://alcazar.vercel.app/photo2.png" ; alt="" />
        </div>
      </div>
      <div class="aboutbox">
        <div class="aboutfirst">
          <img src="https://alcazar.vercel.app/photo3.png" ; alt="" />
        </div>
        <div class="aboutSecond">
          <h1>Passenger Quick Pick</h1>
          <p>
            Fill in passenger details now, from a website that blocks y ou from
            selecting or right-clicking content? While it migh t seem
            impossible, there are several ways to copy text from any protected
            website, even if you can't right-click the page.
          </p>
          <button>Check It Out</button>
        </div>
      </div>
      <div class="aboutbox">
        <div class="aboutSecond">
          <h1>Easy Reschedule</h1>
          <p>
            No more chasing after the airline copy text from a website that
            blocks y ou from selecting or While it migh t seem impossible, there
            are several ways to copy text from any protected website, even if
            you can't right-click the page.right-clicking content?
          </p>
          <button>Read More</button>
        </div>
        <div class="aboutfirst">
          <img src="https://alcazar.vercel.app/photo4.png" alt="" />
        </div>
      </div>
      <div class="aboutbox">
        <div class="aboutfirst">
          <img src="https://alcazar.vercel.app/photo5.png" alt="" />
        </div>
        <div class="aboutSecond">
          <h1>Stay Guarantee</h1>
          <p>
            How to Claim StayGurantee from a website that blocks y ou from
            selecting or right-clicking content? While it migh t , there are
            several ways to copy text from any protected website, even if you
            can't right-click the page. seem impossible
          </p>
          <button>Read More</button>
        </div>
      </div>
    </div>

    <footer></footer>
  </body>
</html>
<script>
    async function gettingPageNumber() {
      // https://api-wvaq.onrender.com/
      try {
        let result=await fetch(`https://api-wvaq.onrender.com/hotels`)
        // let result = await fetch(`https://database-sr9b.onrender.com/hotels`);
        let res = await result.json();
        totalPages = res.length / 6;
        console.log(totalPages);
        creatingButton(totalPages);
      } catch (error) {
        console.log(error);
      }
    }
    gettingPageNumber();
    
    let page = 1;
    let query='';
    let fetchingData = async (page) => {
      try {
        console.log(`https://api-wvaq.onrender.com/hotels?_limit=6&_page=${page}&${query}`)
        let result = await fetch(
          `https://api-wvaq.onrender.com/hotels?_limit=6&_page=${page}&${query}`
        );
        let res = await result.json();
        displayData(res);
        gettingPageNumber()
      } catch (error) {
        console.log(error);
      }
    };
    // fetchingData(page);
    
    function creatingButton(totalPages) {
      document.getElementById("pages").innerHTML = "";
      // let buttons=document.createElement('div')
      for (let i = 1; i <= totalPages; i++) {
        let btn = document.createElement("button");
        btn.textContent = i;
        btn.classList = "pg";
        console.log("btn" + i);
        btn.addEventListener("click", () => {
          fetchingData(btn.textContent);
          document.querySelectorAll(".pg").forEach((ele)=>{
            ele.classList = "pg"
          })
          btn.classList = "pg active";
        });
        document.getElementById("pages").append(btn);
      }
    }
    
    let container = document.getElementById("content");
    
    function displayData(data) {
      container.innerHTML = "";
      data.forEach((elem, i) => {
        let div = document.createElement("div");
        div.setAttribute("class","con");
    let aa=document.createElement("a");
    
        var image = document.createElement("img");
        image.setAttribute("src", elem.url);
        image.id = "image";
        image.addEventListener("click", function () {
          addfun(elem);
        });
        aa.href="../product_details/product_details.html"
        aa.append(image);
    
    
        var innerdiv = document.createElement("div");
        innerdiv.id = "innerdiv";
    
    var pr=document.createElement("div");
    pr.setAttribute("id","pr");
        var name = document.createElement("h4");
        name.textContent = elem.name;
    
        var price = document.createElement("h4");
        price.textContent = "â‚¹" + Math.round(elem.cost/3) + "/Night";
        pr.append(name,price);
      let hr=document.createElement("hr");
      hr.setAttribute("id","hr")
    
        // innerdiv.append(pr,hr);
    
        var truncatedText = document.createElement("p");
        truncatedText.textContent = elem.description;
        truncatedText.class="truncated-text";
    const fullText=document.createElement("p");
    fullText.setAttribute("class","full-text");
    fullText.textContent=elem.description;
    // const fullText = document.querySelector('.full-text');
    const readMoreLink=document.createElement("button");
    readMoreLink.setAttribute("class","read-more");
    readMoreLink.textContent="Read -more";
    const wordsToShowInitially = 4;
    let isExpanded = false;
    
    // Function to truncate text to a certain number of words
    function truncateText(text, numWords) {
      const words = text.split(' ');
      if (words.length > numWords) {
        return words.slice(0, numWords).join(' ') + '...';
      }
      return text;
    }
    
    
    // Initial truncation
    const originalContent = fullText.textContent;
    fullText.textContent = truncateText(originalContent, wordsToShowInitially);
    
    // Click event handler for the "Read more" link
    readMoreLink.addEventListener('click', function (e) {
      e.preventDefault();
      if (isExpanded) {
        // If content is expanded, truncate it again
        fullText.textContent = truncateText(originalContent, wordsToShowInitially);
        readMoreLink.textContent = 'Read more';
      } else {
        // If content is not expanded, show the full content
        fullText.textContent = originalContent;
        readMoreLink.textContent = 'Read less';
      }
      isExpanded = !isExpanded;
    });
     div.append(aa, pr,hr,fullText,readMoreLink);
        container.append(div);
      });
    }
    function addfun(elem) {
      localStorage.setItem("ID", JSON.stringify(elem));
      window.content.href = "product_details.html";
    }
    console.log("x");
    document.getElementById("btn1").addEventListener("click", () => {
      gettingPageNumber();
      fetchingData(page);
    });
    document.getElementById("btn2").addEventListener("click", () => {
      // gettingPageNumber();
      console.log("here")
      query = "_sort=ratings&_order=asc"
      fetchingData(page)
    });
    document.getElementById("btn3").addEventListener("click", () => {
      // gettingPageNumber();
      query = "_sort=ratings&_order=desc"
      fetchingData(page)
    });
    document.getElementById("btn4").addEventListener("click", () => {
      query = "_sort=name&_order=asc"
      fetchingData(page)
    });
    document.getElementById("btn5").addEventListener("click", () => {
      query = "_sort=cost&_order=desc"
      fetchingData(page)
    });
    document.getElementById("btn6").addEventListener("click", () => {
      query = "_sort=cost&_order=asc"
      fetchingData(page)
    });
    
    
    
    //pagination
 
    </script>